(this["webpackJsonpstream-racing-wheel"]=this["webpackJsonpstream-racing-wheel"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),o=a(46),s=a.n(o),i=a(2),c=a(3),u=a(5),l=a(4),p=a(6),d=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={transform:"rotate("+450*this.props.rotation+"deg)"};return r.a.createElement("img",{alt:"",style:e,src:"/stream-racing-wheel/g920/wheel.png"})}}]),a}(n.Component),m=p.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,a,n){return{rotation:t}}))(d),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.downAmount*this.props.value*-1,t={width:"70px",position:"absolute",top:this.props.top+"px",left:this.props.left+"px",transform:"translateY("+e+"px)"};return r.a.createElement("img",{alt:"",style:t,src:this.props.src})}}]),a}(n.Component),h=p.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,a,n){return{value:t}}))(g),v=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(h,{top:-20,left:290,downAmount:50,axis:1,src:"/stream-racing-wheel/g920/gas.png"}),r.a.createElement(h,{top:-10,left:160,downAmount:50,axis:2,src:"/stream-racing-wheel/g920/brake.png"}),r.a.createElement(h,{top:-10,left:40,downAmount:50,axis:5,src:"/stream-racing-wheel/g920/clutch.png"}),r.a.createElement("img",{alt:"",style:{width:"400px"},src:"/stream-racing-wheel/g920/pedals.png"}))}}]),a}(n.Component),f=[],x=[],b=0;b<20;b++)f.push({pressed:!1,touched:!1,value:0}),x.push(0);p.a.set("buttons",f),p.a.set("axes",x);var w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onGamepadConnected=function(e){var t=navigator.getGamepads(),a=t[e.gamepad.index];console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",a.index,a.id,a.buttons.length,a.axes.length),n.setState({gamePads:t}),a.id.toLowerCase().indexOf("wheel")>-1&&n.changeGamepad(a.index)},n.start=0,n.a=0,n.b=0,n.gamePadIndex=-1,n.state={gameLoopStarted:!1,gamePads:[]},window.addEventListener("gamepadconnected",n.onGamepadConnected),n}return Object(c.a)(a,[{key:"changeGamepad",value:function(e){console.log(e),this.setState({gamepadIndex:e,gameLoopStarted:!0}),this.gameLoop()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{paddingLeft:"50px",backgroundColor:"#133a4d"}},r.a.createElement("select",{onChange:function(t){return e.changeGamepad(t.target.value)},value:this.state.gamepadIndex},Object.values(this.state.gamePads).map((function(e){return r.a.createElement("option",{value:e.index},e.id)}))),r.a.createElement("br",null),r.a.createElement("div",{style:{position:"relative",top:"20px"}},r.a.createElement(m,{axis:0})),r.a.createElement("div",{style:{position:"relative",top:"-170px",left:"30px",marginLeft:"50px"}},r.a.createElement(v,null)))}},{key:"buttonPressed",value:function(e){return"object"==typeof e?e.pressed:1===e}},{key:"gameLoop",value:function(){if(-1!==this.gamePadIndex){var e=navigator.getGamepads()[this.gamePadIndex],t=e.buttons.map((function(t){return{pressed:e.buttons[t].pressed,touched:e.buttons[t].touched,value:e.buttons[t].value}})),a=e.axes.map((function(t){return e.axes[t]}));p.a.set("buttons",t),p.a.set("axes",a),this.start&&cancelAnimationFrame(this.start),this.start=requestAnimationFrame(this.gameLoop)}}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,a){e.exports=a(123)}},[[47,1,2]]]);
//# sourceMappingURL=main.9e4be756.chunk.js.map